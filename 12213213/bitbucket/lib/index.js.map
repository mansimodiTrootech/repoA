{"version":3,"file":"index.js","sources":["../src/endpoint/defaults.ts","../src/utils/lower-case-header-fields.ts","../src/endpoint/merge.ts","../src/endpoint/utils/add-query-parameters.ts","../src/endpoint/utils/extract-url-variable-names.ts","../src/endpoint/parse.ts","../src/endpoint/endpoint-with-defaults.ts","../src/endpoint/index.ts","../src/endpoint/with-defaults.ts","../src/error/index.ts","../src/request/fetch-wrapper.ts","../src/request/index.ts","../src/request/with-defaults.ts","../src/client/get-endpoint-options.ts","../src/client/utils/pick.ts","../src/client/constructor.ts","../src/client/register-plugins.ts","../src/client/factory.ts","../src/client/index.ts","../src/plugins/auth/before-request.ts","../src/utils/btoa-lite.ts","../src/plugins/pagination/get-page.ts","../src/plugins/register-endpoints/register-endpoints.ts","../src/plugins/validate-request/validate.ts","../src/index.ts","../src/plugins/notice/index.ts","../src/plugins/auth/index.ts","../src/plugins/auth/validate-options.ts","../src/plugins/pagination/index.ts","../src/plugins/register-endpoints/index.ts","../src/plugins/register-api-endpoints/index.ts","../src/plugins/validate-request/index.ts"],"sourcesContent":null,"names":["DEFAULTS","method","baseUrl","headers","accept","lowerCaseHeaderFields","Object","keys","reduce","newHeaders","key","toLowerCase","merge","endpointDefaults","endpointRoute","endpointOptions","split","url","assign","deepmerge","all","filter","Boolean","isMergeableObject","isPlainObject","addQueryParameters","params","separator","includes","names","name","length","map","q","encodeURIComponent","join","Array","isArray","value","urlVariableRegex","removeNonChars","variableNameMatch","replace","contentType","parse","accepts","_method","_url","request","toUpperCase","urlVariableNames","matches","match","a","b","concat","extractUrlVariableNames","urlTemplate","expand","test","body","bodyParams","_body","remainingParams","bodyIsFormData","constructor","paramName","append","substring","JSON","stringify","endpointWithDefaults","endpoint","withDefaults","oldDefaults","newDefaults","bind","defaults","HTTPError","Error","message","statusCode","options","captureStackTrace","_this","error","status","getData","response","get","json","text","arrayBuffer","fetchWrapper","requestOptions","responseStatus","responseUrl","responseHeaders","fetch","nodeFetch","then","field","statusText","data","oldEndpoint","endpointParams","hook","getEndpointOptions","clientOptions","requestHook","object","newObject","plugins","Singular","client","forEach","plugin","registerPlugins","oldPlugins","newPlugins","slice","push","factory","Bitbucket","Client","beforeRequest","state","auth","authorization","token","username","hash","password","Buffer","from","toString","btoa","getPage","direction","responseData","registerEndpoints","routes","namespaceName","endpointName","endpointObject","alias","namespaceAlias","apiAlias","validate","deprecated","console","log","_client","param","expectedType","type","valueIsPresent","required","unparsedValue","parseInt","isNaN","Plugins","notice","validateOptions","before","hasNextPage","next","getNextPage","hasPreviousPage","previous","getPreviousPage","ROUTES"],"mappings":"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"}